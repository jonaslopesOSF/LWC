"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const terser_1 = require("terser");
/**
 * Rollup plugin applying minification to the generated bundle.
 */
function default_1({ sourcemap }) {
    return {
        name: 'lwc-minify',
        async renderChunk(src) {
            const { code, map } = await terser_1.minify(src, {
                sourceMap: sourcemap,
                format: {
                    // Wrapping function expressions in parenthesis can be harmful for performance.
                    // Details: https://v8.dev/blog/preparser#pife
                    wrap_func_args: false,
                },
            });
            return {
                code: code,
                map,
            };
        },
    };
}
exports.default = default_1;
//# sourceMappingURL=minify.js.map